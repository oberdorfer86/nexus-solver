<!DOCTYPE html>
<html lang="pt-br" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS Solver | Engenharia</title>
    
    <link rel="icon" type="image/png" href="{{ url_for('static', path='img/nexus_logo.png') }}">
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"> 
    
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}?v=8.4">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>
    
</head>
<body>

    <div class="app-layout">
        
        <main class="main-content">
            
            <header class="app-header">
                <div class="brand">
                    <img src="{{ url_for('static', path='img/nexus_logo.png') }}" alt="Logo NEXUS" style="height: 40px; width: 40px; margin-right: 10px;">
                    <h1>NEXUS Solver</h1>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button id="theme-toggle-btn" class="btn-icon" title="Alternar Tema">
                        <span class="material-icons-round">dark_mode</span>
                    </button>
                </div>
            </header>
            
<div id="app-library" class="top-library">
                <div class="sidebar-header">
                    <h2><span class="material-icons-round">archive</span> NEXUS Library</h2>
                    </div>

                <div id="tab-controls-container" class="library-master-tabs">
                    <div id="toolbar-main" class="tab-handle active"> 
                         <span class="handle-title"><span class="material-icons-round">apps</span> Funções</span>
                    </div>
                    <div id="formula-container" class="tab-handle inactive">
                        <span class="handle-title"><span class="material-icons-round">description</span> Fórmulas</span>
                    </div>
                </div>
                
                <div id="library-content-scroll" class="library-content-scroll">
                    <div id="tab-content-area" class="library-detail-area">
                        <div id="toolbar-content-area" class="tab-pane active">
                            <div class="toolbar-content" style="display: block; padding-top: 0;">
                                <div class="toolbar-section-title">BÁSICO</div>
                                <div id="basico" class="toolbar-pane active">
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="+" title="Soma">+</button>
                                        <button class="toolbar-btn" data-latex="-" title="Subtração">-</button>
                                        <button class="toolbar-btn" data-latex="*" title="Multiplicação">×</button>
                                        <button class="toolbar-btn" data-latex="/" title="Divisão">÷</button>
                                        <button class="toolbar-btn" data-latex="=" title="Igualdade">=</button>
                                        <button class="toolbar-btn" data-latex="\%" title="Porcentagem">%</button> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\left(\placeholder{}\right)" title="Parênteses">( )</button>
                                        <button class="toolbar-btn" data-latex="\frac{\placeholder{}}{\placeholder{}}" title="Fração"><div class="fraction-icon"><span class="square-placeholder small"></span><span class="fraction-line"></span><span class="square-placeholder small"></span></div></button>
                                        <button class="toolbar-btn" data-latex="\pi" title="Pi">π</button>
                                        <button class="toolbar-btn" data-latex="e" title="Euler">e</button>
                                        <button class="toolbar-btn" data-latex="\Delta" title="Delta (Variação)">Δ</button>
                                        <button class="toolbar-btn" data-latex="\infty" title="Infinito">∞</button>
                                    </div>
                                </div>
                                <div class="divider"></div>
                                
                                <div class="toolbar-section-title">POTÊNCIA/RAIZ</div>
                                <div id="potencia-raiz" class="toolbar-pane active">
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="x^2" title="Quadrado">x²</button>
                                        <button class="toolbar-btn" data-latex="^{\placeholder{}}" title="Potência">x<span class="square-placeholder small"></span></button>
                                        <button class="toolbar-btn" data-latex="^{-1}" title="Inverso">x⁻¹</button>
                                        <button class="toolbar-btn" data-latex="x^{1/2}" title="Potência 1/2">x¹/²</button>
                                        <button class="toolbar-btn" data-latex="x^{1/3}" title="Potência 1/3">x¹/³</button>
                                        <button class="toolbar-btn" data-latex="x^{2/3}" title="Potência 2/3">x²/³</button>
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\sqrt{\placeholder{}}" title="Raiz Quadrada"><span class="root-symbol">√</span><span class="square-placeholder"></span></button>
                                        <button class="toolbar-btn" data-latex="\sqrt[\placeholder{}]{\placeholder{}}" title="Raiz N-ésima"><span class="root-symbol">√</span><span class="square-placeholder sub"></span><span class="square-placeholder"></span></button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                                <div class="divider"></div>
                                
                                <div class="toolbar-section-title">LOG/EXP</div>
                                <div id="log-exp" class="toolbar-pane active">
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\log\left(\placeholder{}\right)">log</button>
                                        <button class="toolbar-btn" data-latex="\ln\left(\placeholder{}\right)">ln</button>
                                        <button class="toolbar-btn" data-latex="\log_{\placeholder{}}\left(\placeholder{}\right)" title="Log Base N">log<span class="square-placeholder sub"></span></button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="10^{\placeholder{}}">10<span class="square-placeholder small"></span></button>
                                        <button class="toolbar-btn" data-latex="e^{\placeholder{}}">e<span class="square-placeholder small"></span></button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                                <div class="divider"></div>
                                
                                <div class="toolbar-section-title">TRIGONOMETRIA</div>
                                <div id="trigonometria" class="toolbar-pane active">
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\sin\left(\placeholder{}\right)">sin</button>
                                        <button class="toolbar-btn" data-latex="\cos\left(\placeholder{}\right)">cos</button>
                                        <button class="toolbar-btn" data-latex="\tan\left(\placeholder{}\right)">tan</button>
                                        <button class="toolbar-btn" data-latex="\csc\left(\placeholder{}\right)">csc</button>
                                        <button class="toolbar-btn" data-latex="\sec\left(\placeholder{}\right)">sec</button>
                                        <button class="toolbar-btn" data-latex="\cot\left(\placeholder{}\right)">cot</button>
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\arcsin\left(\placeholder{}\right)">sin⁻¹</button>
                                        <button class="toolbar-btn" data-latex="\arccos\left(\placeholder{}\right)">cos⁻¹</button>
                                        <button class="toolbar-btn" data-latex="\arctan\left(\placeholder{}\right)">tan⁻¹</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">ESTAT/COMB</div>
                                <div id="estat-comb" class="toolbar-pane active">
                                     <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="!" title="Fatorial">n!</button>
                                        <button class="toolbar-btn" data-latex="\binom{\placeholder{}}{\placeholder{}}" title="Combinação">nCr</button>
                                        <button class="toolbar-btn" data-latex="P\left(\placeholder{},\placeholder{}\right)" title="Permutação">nPr</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\overline{x}" title="Média Amostral">x̄</button>
                                        <button class="toolbar-btn" data-latex="\mu" title="Média Populacional">μ</button>
                                        <button class="toolbar-btn" data-latex="\sigma" title="Desvio Padrão">σ</button>
                                        <button class="toolbar-btn" data-latex="\sigma^2" title="Variância">σ²</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">AVANÇADO (Cálculo)</div>
                                <div id="avancado" class="toolbar-pane active">
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\frac{d}{dx}">d/dx</button>
                                        <button class="toolbar-btn" data-latex="\partial" title="Derivada Parcial">∂</button>
                                        <button class="toolbar-btn" data-latex="\lim_{\placeholder{} \to \placeholder{}}">lim</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\int \placeholder{} dx">∫</button>
                                        <button class="toolbar-btn" data-latex="\int_{\placeholder{}}^{\placeholder{}} \placeholder{} dx">∫<span class="square-placeholder sub" style="margin-left:-3px"></span><span class="square-placeholder small" style="margin-left:-3px; vertical-align: super;"></span></button>
                                        <button class="toolbar-btn" data-latex="\sum_{\placeholder{}}^{\placeholder{}}">∑<span class="square-placeholder sub" style="margin-left:-3px"></span><span class="square-placeholder small" style="margin-left:-3px; vertical-align: super;"></span></button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">MATRIZ/VETOR</div>
                                <div id="matriz-vetor" class="toolbar-pane active">
                                     <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\begin{pmatrix}\placeholder{} & \placeholder{} \\ \placeholder{} & \placeholder{}\end{pmatrix}" title="Matriz 2x2" style="font-size: 0.8rem;">(2x2)</button>
                                        <button class="toolbar-btn" data-latex="\begin{bmatrix}\placeholder{} & \placeholder{} \\ \placeholder{} & \placeholder{}\end{bmatrix}" title="Matriz 2x2 (Colchetes)" style="font-size: 0.8rem;">[2x2]</button>
                                        <button class="toolbar-btn" data-latex="\begin{vmatrix}\placeholder{} & \placeholder{} \\ \placeholder{} & \placeholder{}\end{vmatrix}" title="Determinante" style="font-size: 0.8rem;">|2x2|</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\begin{pmatrix}\placeholder{} \\ \placeholder{}\end{pmatrix}" title="Vetor 2D" style="font-size: 0.8rem;">(2x1)</button>
                                        <button class="toolbar-btn" data-latex="\begin{bmatrix}\placeholder{} \\ \placeholder{}\end{bmatrix}" title="Vetor 2D (Colchetes)" style="font-size: 0.8rem;">[2x1]</button>
                                        <button class="toolbar-btn" data-latex="\vec{\placeholder{}}" title="Vetor (Símbolo)">v&#8407;</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                    <div class="toolbar-group">
                                        <button class="toolbar-btn" data-latex="\det\left(\placeholder{}\right)" style="font-size: 1rem;">det</button>
                                        <button class="toolbar-btn" data-latex="^{-1}" title="Matriz Inversa">M⁻¹</button>
                                        <button class="toolbar-btn" data-latex="^{T}" title="Matriz Transposta">Mᵀ</button>
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                        <span class="toolbar-btn" style="visibility: hidden;"></span> 
                                    </div>
                                </div>
                            </div>
                        </div>

<div id="formula-content-area" class="tab-pane inactive">
                            <div class="formula-content-details">
                                
                                <div class="toolbar-section-title">Matemática Fundamental</div>
                                <div id="form-mat-fund" class="formula-pane"> <div class="formula-item">
                                        <h4>Fórmula de Bhaskara (Raízes Reais)</h4>
                                        <math-field read-only value="x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Teorema de Pitágoras (Hipotenusa)</h4>
                                        <math-field read-only value="c^2 = a^2 + b^2"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Área do Círculo</h4>
                                        <math-field read-only value="A = \pi r^2"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Derivada Básica (potência)</h4>
                                        <math-field read-only value="\frac{d}{dx} x^n = n x^{n-1}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Integral Básica (potência)</h4>
                                        <math-field read-only value="\int x^n dx = \frac{x^{n+1}}{n+1} + C"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">Mecânica Estrutural</div>
                                <div id="form-mec-estr" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Tensão Normal em Vigas (Flexão)</h4>
                                        <math-field read-only value="\sigma = \frac{M y}{I}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Momento de Inércia (Retângulo)</h4>
                                        <math-field read-only value="I = \frac{b h^3}{12}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Deflexão Máxima (Viga simplesmente apoiada, Carga distribuída w)</h4>
                                        <math-field read-only value="y_{max} = \frac{5 w L^4}{384 E I}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Tensão de Cisalhamento Transversal</h4>
                                        <math-field read-only value="\tau = \frac{V Q}{I b}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Fórmula do Coeficiente de Segurança</h4>
                                        <math-field read-only value="CS = \frac{\sigma_{limite}}{\sigma_{aplicada}}"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">Termodinâmica</div>
                                <div id="form-term" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Equação de Estado (Gás Ideal)</h4>
                                        <math-field read-only value="PV = nRT"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Primeira Lei da Termodinâmica (Sistema Fechado)</h4>
                                        <math-field read-only value="\Delta U = Q - W"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Condução de Calor (Lei de Fourier)</h4>
                                        <math-field read-only value="q = -k A \frac{dT}{dx}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Eficiência Térmica (Ciclo Carnot)</h4>
                                        <math-field read-only value="\eta_{Carnot} = 1 - \frac{T_C}{T_H}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Vazão Mássica</h4>
                                        <math-field read-only value="\dot{m} = \rho A v"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">Eletricidade & Eletrônica</div>
                                <div id="form-eletrica" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Lei de Ohm</h4>
                                        <math-field read-only value="V = R I"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Potência Elétrica (DC)</h4>
                                        <math-field read-only value="P = V I = I^2 R = \frac{V^2}{R}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Impedância (RLC Série)</h4>
                                        <math-field read-only value="Z = R + j \left(\omega L - \frac{1}{\omega C}\right)"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Constante de Tempo RC</h4>
                                        <math-field read-only value="\tau = R C"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Frequência de Ressonância (RLC)</h4>
                                        <math-field read-only value="f_0 = \frac{1}{2\pi \sqrt{LC}}"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">Hidráulica & Fluidos</div>
                                <div id="form-hidraulica" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Equação da Continuidade (Vazão)</h4>
                                        <math-field read-only value="Q = A v"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Bernoulli (Energia)</h4>
                                        <math-field read-only value="\frac{P}{\gamma} + \frac{v^2}{2g} + z = \text{constante}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Número de Reynolds</h4>
                                        <math-field read-only value="Re = \frac{\rho v D}{\mu}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Perda de Carga (Darcy-Weisbach)</h4>
                                        <math-field read-only value="h_f = f \frac{L}{D} \frac{v^2}{2g}"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>
                                
                                <div class="toolbar-section-title">Controle & Sistemas</div>
                                <div id="form-controle" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Função de Transferência (1ª ordem)</h4>
                                        <math-field read-only value="G(s) = \frac{K}{\tau s + 1}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Resposta ao Degrau (1ª ordem)</h4>
                                        <math-field read-only value="y(t) = K\left(1 - e^{-t/\tau}\right) u(t)"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Erro de Regime Estacionário</h4>
                                        <math-field read-only value="e_{ss} = \lim_{s \to 0} s E(s)"></math-field>
                                    </div>
                                </div>
                                <div class="divider"></div>

                                <div class="toolbar-section-title">Cálculo Avançado</div>
                                <div id="form-calculo" class="formula-pane">
                                    <div class="formula-item">
                                        <h4>Regra da Cadeia (Derivada)</h4>
                                        <math-field read-only value="\frac{dy}{dx} = \frac{dy}{du} \frac{du}{dx}"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Integral por Partes</h4>
                                        <math-field read-only value="\int u dv = uv - \int v du"></math-field>
                                    </div>
                                    <div class="formula-item">
                                        <h4>Teorema Fundamental do Cálculo</h4>
                                        <math-field read-only value="\int_a^b f(x) dx = F(b) - F(a)"></math-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

<div class="editor-section"> 
                
                <div class="variables-panel">
                    <div class="variables-header">
                        <span class="panel-title">
                            <span class="material-icons-round" style="font-size: 1.1rem;">data_object</span> 
                            Variáveis de Projeto
                        </span>
                        <button id="add-variable-btn" class="btn-xs primary" title="Adicionar nova variável">
                            <span class="material-icons-round">add</span> Nova
                        </button>
                    </div>
                    <div id="variables-list" class="variables-grid"></div>
                </div>

                <div class="unified-input-wrapper">
                    <div class="label-group"> 
                        <input type="text" id="calc-label" placeholder="Nomeie este cálculo (ex: Momento Máximo)...">
                    </div>

                    <div class="input-group">
                        <math-field id="math-editor" smart-mode placeholder="Digite\ sua\ expressão..."></math-field> 
                        <div class="editor-actions">
                            <button id="clear-btn" class="btn-primary danger" title="Limpar Tudo">
                                <span class="material-icons-round">delete_outline</span>
                                Limpar
                            </button>
                            <button id="calculate-btn" class="btn-primary">
                                <span class="material-icons-round calculate-icon">calculate</span> 
                                <span class="material-icons-round loading-icon">autorenew</span>
                                Calcular
                            </button>
                        </div>
                    </div>
                </div>

                <details class="tech-footer">
                    <summary>
                        <span class="material-icons-round" style="font-size:1.1rem; color:var(--text-muted);">code</span>
                        <span style="margin-left: 5px;">Ver Códigos (Excel / LaTeX)</span>
                    </summary>
                    <div class="tech-content">
                        <div class="tech-group">
                            <label for="excel-code">Para Excel:</label>
                            <input type="text" id="excel-code" readonly placeholder="O código Excel aparecerá aqui..." onclick="this.select()">
                        </div>
                        <div class="tech-group">
                            <label for="latex-code">LaTeX:</label>
                            <input type="text" id="latex-code" readonly placeholder="O código LaTeX aparecerá aqui..." onclick="this.select()">
                        </div>
                    </div>
                </details>

            </div>
            
<div id="result-area" class="result-card hidden">
                <div class="result-header">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <h3>Resultado</h3>
                        <button id="save-var-btn" class="btn-secondary save-result-btn" title="Salvar resultado como Variável">
                            <span class="material-icons-round">save_alt</span> Salvar como Variável
                        </button>
                        </div>
                </div>
                
                <math-field id="result-output" read-only style="font-size: 2.2rem;"></math-field>
                
                <div id="plot-container">
                    <div id="plotly-graph" style="width:100%; height:500px;"></div>
                </div>
            </div>

        </main>

<aside class="sidebar" id="app-sidebar">
            <div class="sidebar-header">
                <h2><span class="material-icons-round">history</span> Histórico</h2>
                <button id="clear-history-btn" class="btn-icon" title="Limpar Histórico">
                    <span class="material-icons-round">delete_outline</span>
                </button>
            </div>
            
            <div id="history-list" class="history-content">
                <div class="empty-state">Nenhum cálculo recente.</div>
            </div>
            
            <div class="sidebar-footer">
                <small>© 2025 NEXUS Systems</small>
            </div>
        </aside>

<aside class="sidebar left" id="app-nexus">
    <div class="sidebar-header">
        <h2><span class="material-icons-round">dashboard</span> NEXUS</h2>
        </div>
    <div id="nexus-content" class="history-content">
        <div class="empty-state">Painel NEXUS.</div>
    </div>
    <div class="sidebar-footer">
        <small>© NEXUS</small>
    </div>
</aside>

<button id="nexus-toggle" title="Abrir/Fechar NEXUS">
    <span class="material-icons-round" id="nexus-toggle-icon">chevron_right</span>
    NEXUS
</button>

<button id="sidebar-toggle" title="Abrir/Fechar Histórico">
            <span class="material-icons-round" id="toggle-icon">chevron_left</span>
            Histórico
        </button>
        
        <div id="virtual-keyboard-container">
        </div>
        
        <button id="keyboard-toggle" class="btn-fixed-bottom" title="Abrir Teclado Virtual">
            <span class="material-icons-round">dialpad</span>
            Teclado
        </button>
        
</div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script defer src="//unpkg.com/mathlive"></script>
    <script src="{{ url_for('static', path='js/main.js') }}?v=8.4"></script> 
</body>
</html>